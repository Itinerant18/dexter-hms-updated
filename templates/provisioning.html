{% extends "layout.html" %}
{% block title %}Device Provisioning{% endblock %}
{% block head %}


<div class="main-content">
    <div class="path_content" id="path_content"> 
        <div id="breadcrumbContainer"><h5><i class="fas fa-server"></i> Device Registration > Device Provisioning</h5></div>
    </div>
    
    <div class="container">
        <div class="section-card">
            <div class="provisioning-section">
                <h2><i class="fas fa-microchip"></i> Device Provisioning</h2>
                <p class="provisioning-description">Click the provision button below for device registration.</p>
                <form id="provisionForm" method="POST" action="{{ url_for('provision') }}">
                    <div class="form-group">
                        <button type="submit" class="provision-btn" id="provisionBtn">
                            <i class="fas fa-sync"></i> <span class="btn-text">Provision Device</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    // Mobile detection
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (isMobile) {
        document.body.classList.add('mobile-device');
    }
    
    // Add touch support for provision button
    const provisionBtn = document.getElementById('provisionBtn');
    if (provisionBtn) {
        provisionBtn.addEventListener('touchstart', function(e) {
            this.classList.add('touch-active');
            // Add vibration feedback if supported
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
        }, { passive: true });
        
        provisionBtn.addEventListener('touchend', function() {
            this.classList.remove('touch-active');
        }, { passive: true });
        
        // Add regular click events for visual feedback
        provisionBtn.addEventListener('click', function() {
            // Visual feedback for click (not needed for form submission)
            console.log('Provision button clicked');
        });
    }
</script>

{% endblock %}
